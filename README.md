# wallet

PinCodeView.swift

Этот файл содержит определение представления PinCodeView для SwiftUI, которое предоставляет пользовательский интерфейс для ввода PIN-кода.

Особенности:
Отображение текста с просьбой ввести пароль.
Если пароль введен неверно, отображается красное предупреждение.
Индикаторы ввода пароля, изменяющие свой цвет в зависимости от количества введенных символов.
Кнопки с цифрами для ввода пароля.
Всплывающее уведомление об ошибке, если введен неверный пароль.
Использование:
swift
Copy code
PinCodeView(isPresented: $isPresented, passwordInput: $passwordInput, correctPassword: "1234", onAuthenticated: {
    // Действия после успешной аутентификации
})
Примечания:
Предполагается, что пароль имеет фиксированную длину в 4 символа.
Для проверки введенного пароля используется функция checkPassword.
После успешного ввода пароля вызывается замыкание onAuthenticated и представление автоматически закрывается.

ModelsAndAuthentication.swift

Этот файл содержит определения моделей и функцию аутентификации для приложения "wallet".

Модели:
Account
id: Уникальный идентификатор аккаунта (по умолчанию генерируется новый UUID).
balance: Баланс аккаунта.
Transaction
id: Уникальный идентификатор транзакции (по умолчанию генерируется новый UUID).
amount: Сумма транзакции.
recipient: Получатель средств.
date: Дата транзакции.
Аутентификация:
Функция authenticateUser использует биометрическую аутентификацию (например, Touch ID или Face ID) для идентификации пользователя.

Функция первоначально проверяет, доступна ли биометрическая аутентификация на устройстве пользователя.
Если доступна, функция предлагает пользователю пройти аутентификацию с использованием предоставленной причины ("Идентифицируйтесь, чтобы продолжить.").
В зависимости от результата аутентификации, в замыкании completion возвращается true (если аутентификация прошла успешно) или false (если произошла ошибка или пользователь отказался проходить аутентификацию).
Использование:
Для аутентификации пользователя можно вызвать функцию authenticateUser и передать замыкание, которое будет выполнено после завершения процесса аутентификации:

swift
Copy code
authenticateUser { isAuthenticated in
    if isAuthenticated {
        // Продолжить работу приложения после успешной аутентификации
    } else {
        // Обработать ошибку или отказ в аутентификации
    }
}

ContentView.swift

Этот файл является основным представлением приложения "wallet" и включает в себя логику работы с аккаунтом, транзакциями и контактами.

Основные компоненты:
ContactManager:
fetchContacts(): Возвращает список контактов пользователя.
requestForContactAccess(completion:): Запрашивает доступ к контактам и возвращает результат в замыкании.
ContentView:
accounts: Массив аккаунтов пользователя. По умолчанию содержит один аккаунт с балансом 1000 ₽.
contacts: Список контактов, загруженных из телефонной книги.
isShowingContactPicker: Отображает ли текущий экран выбор контакта.
transactions: Список транзакций пользователя.
transferAmount: Сумма для перевода.
recipient: Получатель средств.
isAuthenticated: Пользователь прошел аутентификацию или нет.
isShowingPasswordView: Показывает экран для ввода пароля.
passwordInput: Вводимый пароль.
correctPassword: Правильный пароль для доступа.
mainContent: Основное содержимое экрана, которое включает информацию о балансе, список транзакций и интерфейс для перевода средств.
authenticationRequiredView: Представление, показывающее требование к аутентификации.
roundedRectangleContainer: Вспомогательная функция для отображения контента внутри округленного прямоугольника.
Основная логика:
При открытии ContentView, если пользователь не прошел аутентификацию, отображается экран для ввода пароля (PinCodeView).
После успешной аутентификации, пользователь видит основное содержимое (mainContent).
Пользователь может видеть свой текущий баланс, список транзакций и интерфейс для перевода денег.
При переводе средств, сумма списывается с баланса и добавляется новая транзакция в список транзакций.
Пользователь может выбрать получателя из своих контактов или вручную ввести данные получателя.

Hex.swift

Этот файл содержит расширение для структуры Color из SwiftUI, позволяя создавать цвет на основе строки с шестнадцатеричным значением.
